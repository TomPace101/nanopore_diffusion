//Generate mesh for body-centered pore.
//usage:
//gmsh thisfile.geo -

//This is a jinja2 template
{# Required input variables:
    mcar = characteristic length for mesh refinement
    Lx = unit cell x-length
    Ly = unit cell y-length
    R = pore radius
    H = bulk distance above and below pore included in model
    tm = pore length
  No optional input variables.
  #}

//Mesh density control
mcar={{ mcar }};

//Geometric inputs
Lx={{ Lx }};
Ly={{ Ly }};
R={{ R }};
H={{ H }};
tm={{ tm }};

//Point ordinates
X1=0;
X2=R;
X3=Lx;
Y1=0;
Y2=R;
Y3=Ly;
Z1=0;
Z2=H;
Z3=H+tm;
Z4=2*H+tm;

//Points
{% set ptlist = ['111',        '311', '331', '131',
                 '112', '212', '312', '332', '132', '122',
                 '113', '213', '313', '333', '133', '123',
                 '114',        '314', '334', '134'] -%}
{% for ptnum in ptlist -%}
p{{ ptnum }}=newp; Point(p{{ ptnum }})={X{{ ptnum[0] }},Y{{ ptnum[1] }},Z{{ ptnum[2] }},mcar};
{% endfor %}

//Lines

//Line Loops

//Surfaces

//Surface Loops

//Volume Entities

//Mesh

//Blank lines
//because gmsh gets confused without them





