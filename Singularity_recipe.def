Bootstrap: docker
From: ubuntu:18.04

%post
  #General usage
  apt -y update
  apt -y install --no-install-recommends less vim nano
  #Python 3
  apt -y install --no-install-recommends python3.6
  #General scientific programming packages for python
  apt -y install --no-install-recommends python3-pip python3-setuptools python3-numpy python3-scipy python3-tk python3-matplotlib ipython3
  pip3 install ruamel.yaml jsonschema jinja2 pandas doit
  #gmsh
  apt -y install --no-install-recommends ssh gmsh=3.0.6+dfsg1-1
  #fenics
  apt -y install --no-install-recommends software-properties-common
  add-apt-repository ppa:fenics-packages/fenics
  apt -y update
  apt -y install --no-install-recommends fenics=1:2019.1.0.1~ppa1~bionic1

%test
  gmsh --version
  dolfin-version

#%runscript
#  alias python=python3
#  alias pip=pip3
#  alias ipython=ipython3
#  exec /bin/bash
