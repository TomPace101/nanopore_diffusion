%YAML 1.2
#Parameter input file
#Each document is a separate case run
#Blank (bare) documents are skipped

#Model definition
#modelname: name of model parameter set
#meshparamsfile: name of yaml file containing the mesh defined by meshname (include .yaml extension)
#meshname: name of mesh to use
#equation: name of equation to solve
#properties:
# Only D_bulk is needed for unhomogenized Fickian diffusion
#conditions:
# topsurf: physical surface number of top surface
# basesurf: physical surface number of base surface
# topval: concentration value specified at top surface
# baseval: concentration value specified at base surface
#dataextraction:
# a sequence of data extraction commands,
# each command is a pair of an extraction function name and a dictionary of its keyword arguments
# see solver_general.GenericSolver, or the appropriate class derived from there
---
modelname: debug01
meshparamsfile: debug.yaml
meshname: debug
equation: fickian_unhomog
elementorder: 2
properties:
  D_bulk: 1
conditions:
  topsurf: 4
  basesurf: 1
  topval: 5.0
  baseval: 1.0
dataextraction:
  - [solutionfield, {filename: conc.pvd}]
  - [fluxfield, {filename: flux.pvd}]
  - [fluxintegral, {fluxsurf: 1, name: totflux_01, normalvar: n01}]
  - [fluxintegral, {fluxsurf: 4, name: totflux_04, normalvar: n04}]
  - [fluxintegral, {fluxsurf: 12, name: totflux_12, internal: True, fluxsign: '-', normalvar: n12}]
  - [effective_diffusion, {name: Deff, totflux_name: totflux_12}]
  - [volfrac, {name: free_volume_frac}]
  - [profile_centerline, {spacing: 0.1, filename: plotdata_CL_c.pkl, label: 'concentration along centerline'}]
---
modelname: debug02
meshparamsfile: debug.yaml
meshname: debug
equation: smol_unhomog
elementorder: 2
properties:
  D_bulk: 1
  q: 1
conditions:
  bclist: [[4, 5.0],[1, 1.0]]
  potential:
    equation: linear_pb
    elementorder: 2
    properties:
      debye_length: 1
    conditions:
      bclist: [[2,25.0],[3,25.0],[11,25.0],[15,25.0],[1,0.0],[4,0.0]]
    dataextraction:
      - [solutionfield, {filename: potentialfield.pvd}]
      - [profile_centerline, {spacing: 0.1, filename: plotdata_CL_phi.pkl, label: 'electric potential along centerline'}]
      - [profile_radial, {spacing: 0.02, filename: plotdata_radial_00_phi.pkl, label: 'electric potential along theta=0 deg', theta: 0}]
      - [profile_radial, {spacing: 0.02, filename: plotdata_radial_45_phi.pkl, label: 'electric potential along theta=45 deg', theta: 45}]
      - [profile_radial, {spacing: 0.02, filename: plotdata_radial_90_phi.pkl, label: 'electric potential along theta=90 deg', theta: 90}]
dataextraction:
  - [solutionfield, {filename: conc.pvd}]
  - [fluxfield, {filename: flux.pvd}]
  - [fluxintegral, {fluxsurf: 1, name: totflux_01, normalvar: n01}]
  - [fluxintegral, {fluxsurf: 4, name: totflux_04, normalvar: n04}]
  - [fluxintegral, {fluxsurf: 12, name: totflux_12, internal: True, fluxsign: '-', normalvar: n12}]
  - [effective_diffusion, {name: Deff, totflux_name: totflux_12}]
  - [volfrac, {name: free_volume_frac}]
  - [profile_centerline, {spacing: 0.1, filename: plotdata_CL_c.pkl, label: 'concentration along centerline'}]
  
