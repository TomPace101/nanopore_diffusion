%YAML 1.2
---
#Locator for input and output generated below
- !UpdateFolderStructure
  InputFile: ['input',0]
  OutputFile: ['output',0]
  CompareFile: ['comparison',0]
#Homogenized fickian diffusion simulation
- !HomogFickian2DSimulator
  name: simulation.homog2D
  mesh: !InputFile testmesh.hdf5
  meshmeta: !InputFile testmesh.yaml
  metadata:
    cell_volume: 20.3
  loaddata:
     - [D, !InputFile spatial_D.hdf5, spatial_D]
  conditions:
    elementorder: 3
    boundaries: [1121, 2122, 1222, 1112]
  dataextraction:
    - [domain_volume, {attrpath: domain_volume}]
    - [macroscale_diffusion, {volpath: metadata.cell_volume}]
    - [writefield, {outfpath: !OutputFile chi.pvd}]
    - - reportvalues
      - outfpath: !OutputFile info.yaml
        mapping:
          cell_volume: metadata.cell_volume
          domain_volume: domain_volume
          D_macro: D_macro
  
